<div class="card mb-4 w-75 mx-auto bg-secondary">
    <div class="card-header text-center"> <h3> <strong> <%= @recipe.name %> </strong> </h3> </div>
    <div class="card-body bg-secondary">
        <div class="row">
            <div class="col-md-8">
                <ul class="list-group bg-secondary">
                    <li class="list-group-item"><b>Preparation time:</b> <%= @recipe.preparation_time %></li>
                    <li class="list-group-item"><b>Cooking time:</b> <%= @recipe.cooking_time %></li>
                </ul>
                <p class="my-3"> Steps to follow: </p>
            </div>
            <div class="col-md-4">
                <div class="form-check form-switch fs-3">
                    <label class="form-check-label" for="flexSwitchCheckChecked">Public</label>
                    <input class="form-check-input" type="checkbox" id="flexSwitchCheckChecked" <%= @recipe.public ? 'checked' : '' %>>
                </div>
             </div>
        </div>
        <div class="d-flex justify-content-between">
            <button type="button" class="btn btn-primary" data-toggle="modal" data-target="#shoppingListModal">
                Generate shopping list
            </button>
            <button type="button" class="btn btn-primary" data-toggle="modal" data-target="#ingredientsModal">
                <%= link_to 'Add ingredient', new_recipe_food_path(@recipe) %>
            </button>
        </div>
    <hr>
</div>

<%= link_to 'Back', public_recipes_path %>

<table class='table table-striped table-light'>
    <thead>
        <tr>
        <th>Food</th>
        <th>Measurement unit</th>
        <th>Unit price</th>
        <th>Actions</th>
      </tr>
    </thead>

    <tbody class='table-group-divider'>
      <% @recipe_foods.each do |rf| %>
        <tr>
          <td><%= rf.food.name %></td>
          <td><%= rf.quantity %> <%= rf.food.measurement_unit %></td>
          <td>$<%= rf.food.price %></td>
          <td><%= link_to 'Delete', recipe_food_path(@recipe, rf.food), data: { turbo_method: :delete } %> </td>
        </tr>
      <% end %>
    </tbody>
  </table>
</div>

<%= link_to 'Generate Shopping List', new_shopping_list_path,  {remote: true, 'data-bs-toggle' =>  "modal", 'data-bs-target' => '#modal-window', class: 'btn btn-primary btn-lg'}  %>
<div id="modal-window" class="modal hide fade" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content"></div>
  </div>
</div>